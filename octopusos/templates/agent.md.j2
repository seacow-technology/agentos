# {{ name }}

**Agent Type**: {{ metadata.agent_type if metadata and metadata.agent_type else 'N/A' }}  
**Project**: {{ metadata.project_id if metadata and metadata.project_id else 'N/A' }}  
**Generated**: {{ metadata.generated_at if metadata and metadata.generated_at else 'N/A' }}

---

## Identity

**Role**: {{ role }}

**Mission**: {{ mission }}

---

## Access Control

### Allowed Paths

{% if allowed_paths %}
{% for path in allowed_paths %}
- `{{ path }}`
{% endfor %}
{% else %}
*No allowed paths specified.*
{% endif %}

### Forbidden Paths

{% if forbidden_paths %}
{% for path in forbidden_paths %}
- `{{ path }}`
{% endfor %}
{% else %}
*No forbidden paths specified.*
{% endif %}

---

## Workflows
{% for workflow in workflows %}

### {{ workflow.name }}

{% if workflow.description %}
**Description**: {{ workflow.description }}
{% endif %}

{% if workflow.risk_level %}
**Risk Level**: {{ workflow.risk_level }}
{% endif %}

**Steps**:

{% for step in workflow.steps %}
{{ loop.index }}. {{ step }}
{% endfor %}

**Verification**: {{ workflow.verification }}

{% endfor %}

---

## Commands
{% for cmd_name, cmd_value in commands.items() %}

### `{{ cmd_name }}`

```bash
{{ cmd_value }}
```

{% endfor %}

---

## Verification

- **Schema Check**: {{ '✅ Passed' if verification.schema_check else '❌ Failed' }}
- **Command Existence Check**: {{ '✅ Passed' if verification.command_existence_check else '❌ Failed' }}
{% if verification.path_existence_check is defined %}
- **Path Existence Check**: {{ '✅ Passed' if verification.path_existence_check else '❌ Failed' }}
{% endif %}
{% if verification.additional_checks %}
- **Additional Checks**:
{% for check in verification.additional_checks %}
  - {{ check }}
{% endfor %}
{% endif %}

---

## Escalation Rules
{% if escalation_rules %}

{% for rule in escalation_rules %}
- **Condition**: {{ rule.condition }}
  - **Action**: {{ rule.action }}
  {% if rule.severity %}- **Severity**: {{ rule.severity }}{% endif %}

{% endfor %}
{% else %}
*No escalation rules defined.*
{% endif %}

---

## Constraints
{% if constraints %}

{% for key, value in constraints.items() %}
- **{{ key }}**: {{ value }}
{% endfor %}
{% else %}
*No constraints defined.*
{% endif %}

---

## Provenance

**Evidence IDs**: {{ provenance | join(", ") if provenance else 'None' }}

---

*This agent specification was generated by AgentOS and is backed by evidence from the project's FactPack.*
