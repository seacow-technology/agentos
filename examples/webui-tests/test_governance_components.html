<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Governance Components Demo - AgentOS</title>

    <!-- Tailwind CSS (for basic utilities) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Component Styles -->
    <link rel="stylesheet" href="agentos/webui/static/css/governance-components.css">

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #F9FAFB;
            padding: 2rem;
        }
        .demo-section {
            background: white;
            border-radius: 0.5rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        .demo-section h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #111827;
            margin-bottom: 1rem;
            border-bottom: 2px solid #E5E7EB;
            padding-bottom: 0.5rem;
        }
        .demo-section h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #374151;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .demo-row {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        .demo-item {
            display: inline-flex;
            margin-right: 1rem;
            margin-bottom: 0.5rem;
        }
        .code-block {
            background: #F3F4F6;
            border: 1px solid #E5E7EB;
            border-radius: 0.375rem;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            overflow-x: auto;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <div class="max-w-7xl mx-auto">
        <h1 class="text-4xl font-bold text-gray-900 mb-8">Governance Components Library</h1>
        <p class="text-gray-600 mb-8">Task #7 - Governance Dashboard Visualization Components</p>

        <!-- RiskBadge Demo -->
        <div class="demo-section">
            <h2>RiskBadge Component</h2>
            <p class="text-gray-600 mb-4">Displays risk level indicators with color coding and pulse animation for critical risks.</p>

            <h3>Risk Levels</h3>
            <div class="demo-row">
                <div id="risk-critical" class="demo-item"></div>
                <div id="risk-high" class="demo-item"></div>
                <div id="risk-medium" class="demo-item"></div>
                <div id="risk-low" class="demo-item"></div>
            </div>

            <h3>Sizes</h3>
            <div class="demo-row">
                <div id="risk-small" class="demo-item"></div>
                <div id="risk-medium-size" class="demo-item"></div>
                <div id="risk-large" class="demo-item"></div>
            </div>

            <h3>Dynamic Update</h3>
            <div class="demo-row">
                <div id="risk-dynamic" class="demo-item"></div>
                <button id="risk-update-btn" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                    Change Risk Level
                </button>
            </div>

            <div class="code-block">
const badge = new RiskBadge({
    container: '#container',
    level: 'CRITICAL',
    size: 'medium'
});

badge.update('LOW'); // Update risk level
            </div>
        </div>

        <!-- TrendSparkline Demo -->
        <div class="demo-section">
            <h2>TrendSparkline Component</h2>
            <p class="text-gray-600 mb-4">Mini chart showing time series trends with direction indicators.</p>

            <h3>Trend Directions</h3>
            <div class="demo-row">
                <div>
                    <div class="text-sm text-gray-600 mb-2">Upward Trend</div>
                    <div id="sparkline-up"></div>
                </div>
                <div>
                    <div class="text-sm text-gray-600 mb-2">Downward Trend</div>
                    <div id="sparkline-down"></div>
                </div>
                <div>
                    <div class="text-sm text-gray-600 mb-2">Stable Trend</div>
                    <div id="sparkline-stable"></div>
                </div>
            </div>

            <h3>With Area Fill</h3>
            <div class="demo-row">
                <div id="sparkline-area"></div>
            </div>

            <h3>Custom Size</h3>
            <div class="demo-row">
                <div id="sparkline-large"></div>
            </div>

            <div class="code-block">
const sparkline = new TrendSparkline({
    container: '#container',
    data: [10, 15, 12, 18, 20, 17, 22],
    width: 100,
    height: 30,
    showArrow: true,
    showArea: false
});

sparkline.update([...newData]); // Update data
            </div>
        </div>

        <!-- MetricCard Demo -->
        <div class="demo-section">
            <h2>MetricCard Component</h2>
            <p class="text-gray-600 mb-4">Display key metrics with values, trends, and sparklines.</p>

            <h3>Basic Cards</h3>
            <div class="demo-grid">
                <div id="metric-1"></div>
                <div id="metric-2"></div>
                <div id="metric-3"></div>
                <div id="metric-4"></div>
            </div>

            <h3>Cards with Sparklines</h3>
            <div class="demo-grid">
                <div id="metric-sparkline-1"></div>
                <div id="metric-sparkline-2"></div>
            </div>

            <h3>States</h3>
            <div class="demo-grid">
                <div id="metric-loading"></div>
                <div id="metric-error"></div>
            </div>

            <div class="code-block">
const card = new MetricCard({
    container: '#container',
    title: 'Active Tasks',
    value: '42',
    trend: 'up',
    trendValue: 12.5,
    sparklineData: [30, 35, 32, 38, 40, 39, 42],
    subtitle: 'Last 7 days'
});

card.setValue('50', { trend: 'down', trendValue: -5 });
            </div>
        </div>

        <!-- HealthIndicator Demo -->
        <div class="demo-section">
            <h2>HealthIndicator Component</h2>
            <p class="text-gray-600 mb-4">Display system health with color-coded thresholds.</p>

            <h3>Bar Mode (Different Health Levels)</h3>
            <div class="demo-grid">
                <div id="health-bar-healthy"></div>
                <div id="health-bar-warning"></div>
                <div id="health-bar-critical"></div>
            </div>

            <h3>Circular Mode</h3>
            <div class="demo-row">
                <div id="health-circular-1"></div>
                <div id="health-circular-2"></div>
                <div id="health-circular-3"></div>
            </div>

            <h3>Compact Mode</h3>
            <div class="demo-row">
                <div id="health-compact-1"></div>
                <div id="health-compact-2"></div>
                <div id="health-compact-3"></div>
            </div>

            <h3>States</h3>
            <div class="demo-grid">
                <div id="health-loading"></div>
                <div id="health-error"></div>
            </div>

            <div class="code-block">
const health = new HealthIndicator({
    container: '#container',
    percentage: 85,
    label: 'System Health',
    mode: 'bar', // 'bar', 'circular', 'compact'
    thresholds: {
        critical: 50,
        warning: 70
    }
});

health.update(92); // Update health percentage
            </div>
        </div>

        <!-- Complete Dashboard Example -->
        <div class="demo-section">
            <h2>Complete Dashboard Example</h2>
            <p class="text-gray-600 mb-4">All components working together in a dashboard layout.</p>

            <div class="mb-4">
                <h3 class="text-sm font-semibold text-gray-500 uppercase mb-2">System Overview</h3>
                <div id="dashboard-health"></div>
            </div>

            <div class="mb-4">
                <h3 class="text-sm font-semibold text-gray-500 uppercase mb-2">Key Metrics</h3>
                <div class="demo-grid" id="dashboard-metrics"></div>
            </div>

            <div class="mb-4">
                <h3 class="text-sm font-semibold text-gray-500 uppercase mb-2">Risk Status</h3>
                <div class="demo-row" id="dashboard-risks"></div>
            </div>
        </div>
    </div>

    <!-- Component Scripts -->
    <script src="agentos/webui/static/js/components/RiskBadge.js"></script>
    <script src="agentos/webui/static/js/components/TrendSparkline.js"></script>
    <script src="agentos/webui/static/js/components/MetricCard.js"></script>
    <script src="agentos/webui/static/js/components/HealthIndicator.js"></script>

    <!-- Demo Script -->
    <script>
        // RiskBadge Demos
        new RiskBadge({ container: '#risk-critical', level: 'CRITICAL' });
        new RiskBadge({ container: '#risk-high', level: 'HIGH' });
        new RiskBadge({ container: '#risk-medium', level: 'MEDIUM' });
        new RiskBadge({ container: '#risk-low', level: 'LOW' });

        new RiskBadge({ container: '#risk-small', level: 'HIGH', size: 'small' });
        new RiskBadge({ container: '#risk-medium-size', level: 'HIGH', size: 'medium' });
        new RiskBadge({ container: '#risk-large', level: 'HIGH', size: 'large' });

        const dynamicBadge = new RiskBadge({ container: '#risk-dynamic', level: 'LOW' });
        const levels = ['LOW', 'MEDIUM', 'HIGH', 'CRITICAL'];
        let currentLevelIndex = 0;
        document.getElementById('risk-update-btn').addEventListener('click', () => {
            currentLevelIndex = (currentLevelIndex + 1) % levels.length;
            dynamicBadge.update(levels[currentLevelIndex]);
        });

        // TrendSparkline Demos
        new TrendSparkline({
            container: '#sparkline-up',
            data: [10, 12, 15, 14, 18, 20, 22],
            width: 120,
            height: 30
        });

        new TrendSparkline({
            container: '#sparkline-down',
            data: [22, 20, 18, 19, 15, 12, 10],
            width: 120,
            height: 30
        });

        new TrendSparkline({
            container: '#sparkline-stable',
            data: [15, 16, 15, 14, 15, 16, 15],
            width: 120,
            height: 30
        });

        new TrendSparkline({
            container: '#sparkline-area',
            data: [10, 15, 12, 18, 20, 17, 22, 25],
            width: 150,
            height: 40,
            showArea: true
        });

        new TrendSparkline({
            container: '#sparkline-large',
            data: [30, 35, 32, 40, 38, 42, 45, 43, 48, 50],
            width: 200,
            height: 50,
            strokeWidth: 3
        });

        // MetricCard Demos
        new MetricCard({
            container: '#metric-1',
            title: 'Active Tasks',
            value: '42',
            trend: 'up',
            trendValue: 12.5,
            subtitle: 'Last 7 days'
        });

        new MetricCard({
            container: '#metric-2',
            title: 'Critical Findings',
            value: '8',
            trend: 'down',
            trendValue: -15.3,
            subtitle: 'Decreased from last week'
        });

        new MetricCard({
            container: '#metric-3',
            title: 'Code Coverage',
            value: '87%',
            trend: 'stable',
            trendValue: 0,
            subtitle: 'No change'
        });

        new MetricCard({
            container: '#metric-4',
            title: 'Repositories',
            value: '15',
            subtitle: 'Total repositories monitored',
            icon: 'ðŸ“¦'
        });

        new MetricCard({
            container: '#metric-sparkline-1',
            title: 'Weekly Activity',
            value: '1,234',
            trend: 'up',
            trendValue: 8.4,
            sparklineData: [900, 950, 1020, 980, 1100, 1150, 1234],
            subtitle: 'Events this week'
        });

        new MetricCard({
            container: '#metric-sparkline-2',
            title: 'Response Time',
            value: '245ms',
            trend: 'down',
            trendValue: -12.1,
            sparklineData: [280, 270, 265, 260, 255, 250, 245],
            subtitle: 'Average latency'
        });

        new MetricCard({
            container: '#metric-loading',
            title: 'Loading Metric',
            value: '0',
            loading: true
        });

        new MetricCard({
            container: '#metric-error',
            title: 'Error Metric',
            value: '0',
            error: 'Failed to load data'
        });

        // HealthIndicator Demos
        new HealthIndicator({
            container: '#health-bar-healthy',
            percentage: 92,
            label: 'System Health - Healthy',
            mode: 'bar',
            description: 'All systems operational'
        });

        new HealthIndicator({
            container: '#health-bar-warning',
            percentage: 65,
            label: 'System Health - Warning',
            mode: 'bar',
            description: 'Some issues detected'
        });

        new HealthIndicator({
            container: '#health-bar-critical',
            percentage: 35,
            label: 'System Health - Critical',
            mode: 'bar',
            description: 'Immediate attention required'
        });

        new HealthIndicator({
            container: '#health-circular-1',
            percentage: 95,
            label: 'Health',
            mode: 'circular'
        });

        new HealthIndicator({
            container: '#health-circular-2',
            percentage: 68,
            label: 'Health',
            mode: 'circular'
        });

        new HealthIndicator({
            container: '#health-circular-3',
            percentage: 42,
            label: 'Health',
            mode: 'circular'
        });

        new HealthIndicator({
            container: '#health-compact-1',
            percentage: 95,
            label: 'Healthy',
            mode: 'compact'
        });

        new HealthIndicator({
            container: '#health-compact-2',
            percentage: 68,
            label: 'Warning',
            mode: 'compact'
        });

        new HealthIndicator({
            container: '#health-compact-3',
            percentage: 42,
            label: 'Critical',
            mode: 'compact'
        });

        new HealthIndicator({
            container: '#health-loading',
            percentage: 0,
            label: 'Loading Health',
            mode: 'bar',
            loading: true
        });

        new HealthIndicator({
            container: '#health-error',
            percentage: 0,
            label: 'Error Health',
            mode: 'bar',
            error: 'Unable to fetch health data'
        });

        // Complete Dashboard Example
        new HealthIndicator({
            container: '#dashboard-health',
            percentage: 87,
            label: 'Overall System Health',
            mode: 'bar',
            description: 'System is operating within normal parameters'
        });

        const metricsContainer = document.getElementById('dashboard-metrics');

        const metric1 = document.createElement('div');
        metricsContainer.appendChild(metric1);
        new MetricCard({
            container: metric1,
            title: 'Total Tasks',
            value: '156',
            trend: 'up',
            trendValue: 23.4,
            sparklineData: [120, 125, 130, 135, 140, 150, 156],
            subtitle: 'Active and completed'
        });

        const metric2 = document.createElement('div');
        metricsContainer.appendChild(metric2);
        new MetricCard({
            container: metric2,
            title: 'Critical Issues',
            value: '5',
            trend: 'down',
            trendValue: -28.6,
            sparklineData: [12, 10, 8, 7, 6, 6, 5],
            subtitle: 'Needs attention'
        });

        const metric3 = document.createElement('div');
        metricsContainer.appendChild(metric3);
        new MetricCard({
            container: metric3,
            title: 'Code Quality',
            value: '8.7/10',
            trend: 'up',
            trendValue: 5.1,
            sparklineData: [8.0, 8.2, 8.3, 8.5, 8.6, 8.6, 8.7],
            subtitle: 'Average score'
        });

        const risksContainer = document.getElementById('dashboard-risks');

        const risk1 = document.createElement('div');
        risksContainer.appendChild(risk1);
        new RiskBadge({ container: risk1, level: 'CRITICAL' });

        const risk2 = document.createElement('span');
        risk2.className = 'text-gray-600 text-sm';
        risk2.textContent = '2 critical risks found';
        risksContainer.appendChild(risk2);

        const risk3 = document.createElement('div');
        risksContainer.appendChild(risk3);
        new RiskBadge({ container: risk3, level: 'HIGH' });

        const risk4 = document.createElement('span');
        risk4.className = 'text-gray-600 text-sm';
        risk4.textContent = '5 high-priority items';
        risksContainer.appendChild(risk4);
    </script>
</body>
</html>
