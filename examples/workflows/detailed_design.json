{
  "id": "detailed_design",
  "type": "workflow",
  "version": "0.6.0",
  "status": "draft",
  "metadata": {
    "created_at": "2026-01-25T05:37:21.342016+00:00",
    "checksum": "98ee7b0c0e53504fee2387cbe0471f04ea3fb95a9dcbf5ebcf77acb4268aa7be",
    "is_root": true,
    "tags": [
      "design",
      "components",
      "interfaces"
    ]
  },
  "spec": {
    "id": "detailed_design",
    "version": "0.6.0",
    "category": "design",
    "description": "Define module-level and interface-level design.\nThis workflow breaks down system architecture into concrete components, defines their interfaces, and maps dependencies. It bridges high-level architecture and implementation.\n",
    "phases": [
      {
        "id": "component_breakdown",
        "description": "Break down system into components",
        "requires": [
          "architecture"
        ],
        "produces": [
          "components"
        ],
        "allows_questions": true,
        "risk_level": "medium"
      },
      {
        "id": "interface_definition",
        "description": "Define component interfaces and contracts",
        "requires": [
          "components"
        ],
        "produces": [
          "interfaces",
          "contracts"
        ],
        "allows_questions": false,
        "risk_level": "medium"
      },
      {
        "id": "dependency_mapping",
        "description": "Map dependencies between components",
        "requires": [
          "components",
          "interfaces"
        ],
        "produces": [
          "dependency_graph"
        ],
        "allows_questions": false,
        "risk_level": "low"
      }
    ],
    "interaction": {
      "default_mode": "question_only",
      "question_policy": {
        "trigger_when": [
          "component_ambiguity > 0.7",
          "circular_dependency_detected"
        ]
      },
      "allowed_phases": [
        "component_breakdown"
      ]
    },
    "constraints": {
      "execution": "forbidden",
      "side_effects": "forbidden",
      "requires_approval": false
    },
    "lineage": {
      "introduced_in": "v0.6",
      "derived_from": null,
      "change_reason": null
    },
    "metadata": {
      "tags": [
        "design",
        "components",
        "interfaces"
      ],
      "related_workflows": [
        "system_design",
        "implementation_planning"
      ],
      "use_cases": [
        "Architecture is defined and needs detailed design",
        "Team needs interface contracts before parallel development",
        "Complex component interactions need clarification"
      ],
      "anti_use_cases": [
        "Architectural-level decisions (use system_design)",
        "Direct implementation (use feature_implementation)",
        "Simple single-file changes"
      ]
    }
  }
}