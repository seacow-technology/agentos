{
  "id": "rule_r05_risk_escalation_cloud_model_required",
  "type": "rule",
  "version": "0.9.0",
  "status": "draft",
  "metadata": {
    "created_at": "2026-01-25T08:29:46.655559+00:00",
    "checksum": "385b086fef1943fecdc2b6c791644cd0e0bbdf267fa13a6df3ad0fc3219ece1d",
    "is_root": true,
    "tags": [
      "risk",
      "escalation",
      "cloud-model"
    ]
  },
  "spec": {
    "id": "rule_r05_risk_escalation_cloud_model_required",
    "type": "rule",
    "title": "High/critical risk planning requires cloud model inference",
    "description": "Plans with risk level high or critical must use cloud-based model for reasoning. Local/edge models are insufficient for high-stakes decisions.",
    "version": "0.9.0",
    "status": "active",
    "lineage": {
      "introduced_in": "v0.9",
      "derived_from": null,
      "supersedes": []
    },
    "constraints": {
      "execution": "forbidden"
    },
    "rule": {
      "severity": "error",
      "scope": {
        "applies_to_types": [
          "workflow",
          "command"
        ],
        "applies_to_risk": [
          "high",
          "critical"
        ],
        "applies_to_phases": [
          "design",
          "implementation",
          "review",
          "release"
        ]
      },
      "when": {
        "all_of": [
          {
            "risk_level_high_or_critical": true
          },
          {
            "inference_not_cloud": true
          }
        ]
      },
      "then": {
        "decision": "deny",
        "reason": "High/critical risk decisions require cloud model inference for safety",
        "required_changes": [
          "Route planning to cloud model (e.g., Claude Sonnet 4+)",
          "Document model used for audit trail",
          "Escalate if cloud model unavailable"
        ]
      },
      "evidence_required": [
        "risk_assessment",
        "model_configuration",
        "inference_metadata"
      ]
    },
    "metadata": {
      "tags": [
        "risk",
        "escalation",
        "cloud-model"
      ],
      "author": "AgentOS Team"
    }
  }
}